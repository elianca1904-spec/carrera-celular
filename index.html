<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Carrera Celular üèéÔ∏è</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  text-align:center;
  margin:0;
}

h1{margin:15px;}

.track{
  width:95%;
  height:420px;
  margin:20px auto;
  background: url("pista.png") center/cover no-repeat;
  border-radius:15px;
  position:relative;
  overflow:hidden;
}

.car{
  width:110px;
  height:110px;
  position:absolute;
  left:10px;
  transition:left 0.6s ease;
  transform: translateY(-50%);
}

#car1{ top:25%; }
#car2{ top:45%; }
#car3{ top:65%; }
#car4{ top:85%; }

.question-box{
  background:white;
  padding:20px;
  margin:20px auto;
  width:70%;
  border-radius:10px;
}

button{
  padding:12px 25px;
  margin:8px;
  font-size:16px;
  cursor:pointer;
}

/* PANEL DE ACIERTOS */
.scoreboard{
  background:#fff;
  width:70%;
  margin:10px auto;
  padding:15px;
  border-radius:10px;
  display:grid;
  grid-template-columns: repeat(4,1fr);
  gap:10px;
  font-weight:bold;
}

#countdown{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.85);
  color:white;
  font-size:80px;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}

#winnerScreen{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.9);
  color:white;
  display:none;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  z-index:10000;
}

#winnerScreen h2{
  font-size:60px;
  margin:20px;
}

#winnerScreen button{
  font-size:20px;
  padding:15px 30px;
}
</style>
</head>

<body>

<h1>üèÅ Carrera Celular: Peroxisomas y Vacuolas</h1>

<div class="track" id="track">
  <img id="car1" class="car" src="auto_verde.png">
  <img id="car2" class="car" src="auto_rojo.png">
  <img id="car3" class="car" src="auto_azul.png">
  <img id="car4" class="car" src="auto_amarillo.png">
</div>

<!-- ACIERTOS -->
<div class="scoreboard">
  <div id="score1">Jugador 1: 0 / 5</div>
  <div id="score2">Jugador 2: 0 / 5</div>
  <div id="score3">Jugador 3: 0 / 5</div>
  <div id="score4">Jugador 4: 0 / 5</div>
</div>

<div class="question-box">
  <h2 id="question"></h2>
  <div id="answers"></div>
</div>

<p>Turno del jugador: <strong id="turn">1</strong></p>

<div id="countdown">3</div>

<div id="winnerScreen">
  <h2>üèÜ GANADOR üèÜ</h2>
  <div id="winnerText"></div>
  <button onclick="location.reload()">Jugar otra vez</button>
</div>

<script>
const MAX_ACIERTOS = 5;

let positions=[0,0,0,0];
let aciertos=[0,0,0,0];
let turn=0;
let gameActive=false;

const questions=[ /* MISMAS 10 PREGUNTAS */ 
 {q:"¬øQu√© son los peroxisomas?",
  a:["Org√°nulos que producen prote√≠nas","Org√°nulos encargados de la digesti√≥n celular",
     "Org√°nulos que realizan reacciones de oxidaci√≥n y detoxificaci√≥n","Org√°nulos que almacenan agua"],
  correct:2},
 {q:"¬øQu√© son las vacuolas?",
  a:["Org√°nulos que producen energ√≠a","Ves√≠culas de almacenamiento dentro de la c√©lula",
     "Org√°nulos que sintetizan l√≠pidos","Estructuras exclusivas de c√©lulas animales"],
  correct:1},
 {q:"¬øEn qu√© tipo de c√©lulas se encuentran los peroxisomas?",
  a:["Solo en c√©lulas animales","Solo en c√©lulas vegetales","En c√©lulas procariotas","En c√©lulas eucariotas"],
  correct:3},
 {q:"¬øEn qu√© c√©lulas es m√°s grande la vacuola?",
  a:["C√©lulas animales","C√©lulas bacterianas","C√©lulas vegetales","C√©lulas procariotas"],
  correct:2},
 {q:"¬øCu√°l es una funci√≥n principal de los peroxisomas?",
  a:["S√≠ntesis de prote√≠nas","Digesti√≥n de macromol√©culas","Detoxificaci√≥n del per√≥xido de hidr√≥geno","Producci√≥n de ATP"],
  correct:2},
 {q:"¬øQu√© enzima caracter√≠stica se encuentra en los peroxisomas?",
  a:["Amilasa","Catalasa","ADN polimerasa","Pepsina"],
  correct:1},
 {q:"¬øCu√°l es una funci√≥n de la vacuola?",
  a:["Producci√≥n de energ√≠a","Almacenamiento de sustancias","S√≠ntesis de ribosomas","Transporte de electrones"],
  correct:1},
 {q:"¬øC√≥mo contribuye la vacuola a la c√©lula vegetal?",
  a:["Produce enzimas digestivas","Controla la informaci√≥n gen√©tica","Mantiene la turgencia celular","Realiza la respiraci√≥n celular"],
  correct:2},
 {q:"¬øCu√°l es una diferencia entre peroxisomas y vacuolas?",
  a:["Ambos contienen ADN",
     "Los peroxisomas realizan reacciones metab√≥licas y las vacuolas almacenan sustancias",
     "Ambos producen energ√≠a","Ambos solo est√°n en c√©lulas animales"],
  correct:1},
 {q:"¬øQu√© ocurrir√≠a si los peroxisomas no funcionaran correctamente?",
  a:["Aumentar√≠a la acumulaci√≥n de sustancias t√≥xicas","Se detendr√≠a la fotos√≠ntesis",
     "Desaparecer√≠a el n√∫cleo","Aumentar√≠a la producci√≥n de ribosomas"],
  correct:0}
];

let currentQuestion=0;

const question=document.getElementById("question");
const answers=document.getElementById("answers");
const turnEl=document.getElementById("turn");
const track=document.getElementById("track");

function updateScores(){
  for(let i=0;i<4;i++){
    document.getElementById("score"+(i+1)).innerText =
      `Jugador ${i+1}: ${aciertos[i]} / ${MAX_ACIERTOS}`;
  }
}

function loadQuestion(){
  if(!gameActive) return;
  const q=questions[currentQuestion];
  question.innerText=q.q;
  answers.innerHTML="";
  q.a.forEach((t,i)=>{
    const b=document.createElement("button");
    b.innerText=t;
    b.onclick=()=>checkAnswer(i);
    answers.appendChild(b);
  });
}

function checkAnswer(i){
  const pistaMax = track.clientWidth - 140;
  const paso = pistaMax / MAX_ACIERTOS;

  if(i === questions[currentQuestion].correct){
    aciertos[turn]++;
    positions[turn] = aciertos[turn] * paso;
    document.getElementById("car"+(turn+1)).style.left = positions[turn] + "px";
    updateScores();

    if(aciertos[turn] >= MAX_ACIERTOS){
      document.getElementById("winnerText").innerText =
        "Jugador " + (turn+1) + " gan√≥ con " + MAX_ACIERTOS + " aciertos üéâ";
      document.getElementById("winnerScreen").style.display="flex";
      gameActive=false;
      return;
    }
  }

  turn = (turn+1) % 4;
  turnEl.innerText = turn + 1;
  currentQuestion = (currentQuestion + 1) % questions.length;
  loadQuestion();
}

window.onload=()=>{
  const cd=document.getElementById("countdown");
  cd.innerText="3";
  setTimeout(()=>cd.innerText="2",1000);
  setTimeout(()=>cd.innerText="1",2000);
  setTimeout(()=>cd.innerText="¬°YA!",3000);
  setTimeout(()=>{
    cd.style.display="none";
    gameActive=true;
    loadQuestion();
  },3800);
};
</script>

</body>
</html>
